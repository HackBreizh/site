!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=function(a,b,c){for(var d=!0;d;){var e=a,f=b,g=c;h=j=i=void 0,d=!1,null===e&&(e=Function.prototype);var h=Object.getOwnPropertyDescriptor(e,f);if(void 0!==h){if("value"in h)return h.value;var i=h.get;return void 0===i?void 0:i.call(g)}var j=Object.getPrototypeOf(e);if(null===j)return void 0;a=j,b=f,c=g,d=!0}},h=function(a){function b(a){d(this,b),g(Object.getPrototypeOf(b.prototype),"constructor",this).call(this),this.message=a}return e(b,a),f(b,[{key:"toString",value:function(){return"LuaError: "+this.message}}]),b}(Error);c["default"]=h,b.exports=c["default"]},{}],2:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=function(){function a(){var b=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];d(this,a),this._variables=b}return e(a,[{key:"get",value:function(a){return this._variables[a]}},{key:"set",value:function(a,b){var c=this._variables;this._variables.hasOwnProperty(a)||!this.parent?c[a]=b:this.parent.set(a,b)}},{key:"setLocal",value:function(a,b){this._variables[a]=b}},{key:"setVarargs",value:function(a){this._varargs=a}},{key:"getVarargs",value:function(){return this._varargs||this.parent&&this.parent.getVarargs()}},{key:"add",value:function(a,b){this._variables[a]+=b}},{key:"extend",value:function(b){var c=Object.create(this._variables),d=new a(c);return d.parent=this,d}}]),a}();c["default"]=f,b.exports=c["default"]},{}],3:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=a("./LuaError"),h=d(g),i=a("./lib/globals"),j=0,k=function(){function a(b){if(e(this,a),this.index=++j,this.numValues=[void 0],this.strValues={},this.keys=[],this.values=[],this.metatable=null,b)if("function"==typeof b)b(this);else{var c=b instanceof Array;for(var d in b)if(b.hasOwnProperty(d)){var f=b[d];null===f&&(f=void 0);var g=c?parseInt(d,10)+1:d,h="object"==typeof f&&f.constructor===Object||f instanceof Array;this.set(g,h?new a(f):f)}}else;}return f(a,[{key:"get",value:function(b){if(!(this instanceof a)){if("userdata"==i.type(this)&&b in this)return this[b];throw new h["default"]("attempt to index a "+i.type(this)+" value")}var c=this.rawget(b);if(void 0===c){var d=void 0,e=void 0;if((d=this.metatable)&&(e=d.get("__index")))switch(e.constructor){case a:return e.get(b);case Function:return c=e.call(void 0,this,b),c instanceof Array?c[0]:c}}return c}},{key:"rawget",value:function(a){switch(typeof a){case"string":return this.strValues[a];case"number":if(a>0&&a==a>>0)return this.numValues[a];default:var b=this.keys.indexOf(a);return b>=0?this.values[b]:void 0}}},{key:"set",value:function(b,c){if(!(this instanceof a)){if("userdata"==i.type(this))return void(this[b]=c);throw new h["default"]("attempt to index a "+i.type(this)+" value")}var d=void 0,e=void 0;if((d=this.metatable)&&(e=d.get("__newindex"))){var f=void 0;switch(typeof b){case"string":f=this.strValues[b];break;case"number":var g=b>0&&b==b>>0;if(g){f=this.numValues[b];break}default:var j=this.keys,k=j.indexOf(b);f=-1==k?void 0:this.values[k]}if(void 0===f)switch(e.constructor){case a:return e.set(b,c);case Function:return e(this,b,c)}}this.rawset(b,c)}},{key:"rawset",value:function(a,b){switch(typeof a){case"string":this.strValues[a]=b;break;case"number":var c=a>0&&a==a>>0;if(c){this.numValues[a]=b;break}default:var d=this.keys,e=d.indexOf(a);0>e&&(e=d.length,d[e]=a),this.values[e]=b}}},{key:"insert",value:function(){var a;(a=this.numValues).push.apply(a,arguments)}},{key:"toString",value:function(){var a=void 0,b=void 0;return(a=this.metatable)&&(b=a.get("__tostring"))?b(this)[0]:"table: 0x"+this.index.toString(16)}}]),a}();c["default"]=k,b.exports=c["default"]},{"./LuaError":1,"./lib/globals":5}],4:[function(a,b,c){(function(b){"use strict";function c(a){return a&&a.__esModule?a:{"default":a}}function d(a){return a instanceof Array?a:[a]}function e(a){for(var b=arguments.length,c=Array(b>1?b-1:0),e=1;b>e;e++)c[e-1]=arguments[e];if(!(a instanceof Function)){if(a instanceof n["default"]){var f=void 0,g=void 0;(f=a.metatable)&&(g=f.rawget("__call"))&&(c.unshift(a),a=g)}if(!(a instanceof Function)){var h=i.type(a);throw new p["default"]("attempt to call a "+h+" value")}}return d(a.apply(void 0,c))}function f(){var a=A.config&&A.config.env;if(a)for(var b in a)j["default"].set(b,a[b])}var g=a("./Scope"),h=c(g),i=a("./lib/globals"),j=c(i),k=a("./operators"),l=c(k),m=a("./Table"),n=c(m),o=a("./LuaError"),p=c(o),q=a("./lib/math"),r=c(q),s=a("./lib/table"),t=c(s),u=a("./lib/string"),v=c(u),w=a("./lib/os"),x=c(w),y=a("./lib/package"),z=c(y),A=b.starlight=b.starlight||{},B=j["default"];f();A.runtime={globalScope:new h["default"](j["default"].strValues),_G:B,op:l["default"],T:n["default"],call:e};B.set("math",r["default"]),B.set("table",t["default"]),B.set("string",v["default"]),B.set("os",x["default"]),B.set("package",z["default"])}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./LuaError":1,"./Scope":2,"./Table":3,"./lib/globals":5,"./lib/math":6,"./lib/os":7,"./lib/package":8,"./lib/string":9,"./lib/table":10,"./operators":11}],5:[function(a,b,c){(function(b){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)}function f(){var a=b.starlight.runtime._G.rawget("package");if(void 0===a)throw new E["default"]("error during require(), package lib not found.");var c=[a.rawget("preload"),a.rawget("loaded")];return f=function(){return c},c}function g(a,b){if(void 0===b)throw new E["default"]("Bad argument #2 to ipairs() iterator");var c=b+1,d=a.numValues;return d.hasOwnProperty(c)&&void 0!==d[c]?[c,d[c]]:void 0}function h(a,b){if(!I.coerceToBoolean(a))throw b=I.coerceArgToString(b,"assert",2),new E["default"](b||"Assertion failed!");return[a,b]}function i(a){throw"string"!=typeof a&&"number"!=typeof a&&(a="(error object is not a string)"),new E["default"](a)}function j(a){if(a&&a instanceof C["default"]){var b=a.metatable;if(b){var c=void 0;return(c=b.rawget("__metatable"))?c:b}}else if("string"==typeof a)return J}function k(a){return a=I.coerceArgToTable(a,"ipairs",1),[g,a,0]}function l(a,b){a=I.coerceArgToTable(a,"next",1);var c=void 0===b,d=void 0,e=void 0,f=void 0,g=void 0;if(c||"number"==typeof b&&b>0&&b==b>>0){var h=a.numValues;if("keys"in Object){var i=Object.keys(h);if(c?f=1:(f=i.indexOf(""+b)+1)&&(c=!0),c){for(;void 0!==(d=i[f])&&void 0===(e=h[d]);)f++;if(void 0!==e)return[d>>=0,e]}}else for(g in h)if(f=g>>0,c){if(void 0!==h[f])return[f,h[f]]}else f===b&&(c=!0)}for(f in a.strValues)if(a.strValues.hasOwnProperty(f))if(c){if(void 0!==a.strValues[f])return[f,a.strValues[f]]}else f==b&&(c=!0);for(f in a.keys)if(a.keys.hasOwnProperty(f)){var j=a.keys[f];if(c){if(void 0!==a.values[f])return[j,a.values[f]]}else j===b&&(c=!0)}return[]}function m(a){return a=I.coerceArgToTable(a,"pairs",1),[l,a]}function n(a){var b=void 0;try{if("function"!=typeof a)throw new E["default"]("Attempt to call non-function");for(var c=arguments.length,d=Array(c>1?c-1:0),f=1;c>f;f++)d[f-1]=arguments[f];b=a.apply(void 0,d)}catch(g){return[!1,g&&g.toString()]}return b=[].concat(b),[!0].concat(e(b))}function o(){for(var a=arguments.length,b=Array(a),c=0;a>c;c++)b[c]=arguments[c];var d=b.map(function(a){return w(a)}).join("	");I.stdout.writeln(d)}function p(a,b){return a===b}function q(a,b){return a=I.coerceArgToTable(a,"rawget",1),a.rawget(b)}function r(a,b,c){if(a=I.coerceArgToTable(a,"rawset",1),void 0===b)throw new E["default"]("table index is nil");return a.rawset(b,c),a}function s(a){a=I.coerceArgToString(a,"require",1);var b=f(),c=A(b,2),d=c[0],e=c[1],g=d.rawget(a);if(void 0===g)throw new E["default"]("module '"+a+"' not found:\n	no field package.preload['"+a+"']");var h=g(a)[0];return e.rawset(a,h||!0),h}function t(a){for(var b=arguments.length,c=Array(b>1?b-1:0),d=1;b>d;d++)c[d-1]=arguments[d];if("#"===a)return c.length;if(a=parseInt(a,10))return c.slice(a-1);var e=x(a);throw new E["default"]("bad argument #1 to 'select' (number expected, got "+e+")")}function u(a,b){a=I.coerceArgToTable(a,"setmetatable",1),void 0!==b&&(b=I.coerceArgToTable(b,"setmetatable",2));var c=void 0;if((c=a.metatable)&&c.rawget("__metatable"))throw new E["default"]("cannot change a protected metatable");return a.metatable=b,a}function v(a){var c=arguments.length<=1||void 0===arguments[1]?10:arguments[1];if(c=I.coerceArgToNumber(c,"tonumber",2),""!==a){if(2>c||c>36)throw new E["default"]("bad argument #2 to 'tonumber' (base out of range)");if(10==c&&(a===1/0||a===-(1/0)||"number"==typeof a&&b.isNaN(a)))return a;if(10!=c&&void 0==a)throw new E["default"]("bad argument #1 to 'tonumber' (string expected, got nil)");if(a=(""+a).trim(),10===c)return I.coerceToNumber(a);a=I.coerceToString(a);var d=void 0;16===c&&(d=a.match(/^(\-)?0[xX](.+)$/))&&(a=""+(d[1]||"")+d[2]);var e=new RegExp("^["+K.substr(0,c)+"]*$","gi");if(e.test(a))return parseInt(a,c)}}function w(a){var b=void 0,c=void 0;return void 0!==a&&a instanceof C["default"]&&(b=a.metatable)&&(c=b.rawget("__tostring"))?c.call(c,a):a instanceof C["default"]?a.toString():a instanceof Function?a.hasOwnProperty("toString")?""+a:"function: [host code]":I.coerceToString(a)||"userdata"}function x(a){var b=typeof a;switch(b){case"undefined":return"nil";case"number":case"string":case"boolean":case"function":return b;case"object":return a.constructor===C["default"]?"table":a&&a instanceof Function?"function":"userdata"}}function y(a,b,c){return void 0===b&&(b=1),a=I.coerceArgToTable(a,"unpack",1),b=I.coerceArgToNumber(b,"unpack",2),c=void 0===c?H.getn(a):I.coerceArgToNumber(c,"unpack",3),a.numValues.slice(b,c+1)}function z(a,b){var c=void 0,d=void 0,e=void 0;try{"function"==typeof a?c=a():e=!0,d=!0}catch(f){c=b(void 0,!0)[0],d=!1}if(e)throw new E["default"]("Attempt to call non-function");return c&&c instanceof Array||(c=[c]),c.unshift(d),c}Object.defineProperty(c,"__esModule",{value:!0});var A=function(){function a(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!b||c.length!==b);d=!0);}catch(i){e=!0,f=i}finally{try{!d&&h["return"]&&h["return"]()}finally{if(e)throw f}}return c}return function(b,c){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return a(b,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();c.assert=h,c.error=i,c.getmetatable=j,c.ipairs=k,c.next=l,c.pairs=m,c.pcall=n,c.print=o,c.rawequal=p,c.rawget=q,c.rawset=r,c._require=s,c.select=t,c.setmetatable=u,c.tonumber=v,c.tostring=w,c.type=x,c.unpack=y,c.xpcall=z;var B=a("../Table"),C=d(B),D=a("../LuaError"),E=d(D),F=a("./string"),G=d(F),H=a("./table"),I=a("../utils"),J=new C["default"]({__index:G["default"]}),K="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ",L="Lua 5.1";c._VERSION=L;var M=new C["default"]({_VERSION:L,assert:h,error:i,getmetatable:j,ipairs:k,next:l,pairs:m,pcall:n,print:o,rawequal:p,rawget:q,rawset:r,require:s,select:t,setmetatable:u,tonumber:v,tostring:w,type:x,unpack:y,xpcall:z});c._G=M,M.rawset("_G",M),c["default"]=M}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../LuaError":1,"../Table":3,"../utils":12,"./string":9,"./table":10}],6:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(){return N=L*N%M,N/M}function f(a){return a=K.coerceArgToNumber(a,"abs",1),Math.abs(a)}function g(a){return a=K.coerceArgToNumber(a,"acos",1),Math.acos(a)}function h(a){return a=K.coerceArgToNumber(a,"asin",1),Math.asin(a)}function i(a){return a=K.coerceArgToNumber(a,"atan",1),Math.atan(a)}function j(a,b){return a=K.coerceArgToNumber(a,"atan2",1),b=K.coerceArgToNumber(b,"atan2",2),Math.atan2(a,b)}function k(a){return a=K.coerceArgToNumber(a,"ceil",1),Math.ceil(a)}function l(a){return a=K.coerceArgToNumber(a,"cos",1),Math.cos(a)}function m(a){return a=K.coerceArgToNumber(a,"cosh",1),(o(a)+o(-a))/2}function n(a){return a=K.coerceArgToNumber(a,"deg",1),180*a/Math.PI}function o(a){return a=K.coerceArgToNumber(a,"exp",1),Math.exp(a)}function p(a){return a=K.coerceArgToNumber(a,"floor",1),Math.floor(a)}function q(a,b){return a=K.coerceArgToNumber(a,"fmod",1),b=K.coerceArgToNumber(b,"fmod",2),a%b}function r(a){if(a=K.coerceArgToNumber(a,"frexp",1),0===a)return[0,0];var b=a>0?1:-1;a*=b;var c=Math.floor(Math.log(a)/Math.log(2))+1,d=a/Math.pow(2,c);return[d*b,c]}function s(a,b){return a=K.coerceArgToNumber(a,"ldexp",1),b=K.coerceArgToNumber(b,"ldexp",2),a*Math.pow(2,b)}function t(a,b){return a=K.coerceArgToNumber(a,"log",1),void 0===b?Math.log(a):(y=K.coerceArgToNumber(y,"log",2),Math.log(a)/Math.log(b))}function u(a){return a=K.coerceArgToNumber(a,"log10",1),Math.log(a)/Math.log(10)}function v(){return Math.max.apply(Math,arguments)}function w(){return Math.min.apply(Math,arguments)}function x(a){a=K.coerceArgToNumber(a,"modf",1);var b=Math.floor(a),c=a-b;return[b,c]}function z(a,b){return a=K.coerceArgToNumber(a,"pow",1),b=coercArgToNumber(b,"pow",2),Math.pow(a,b)}function A(a){return a=K.coerceArgToNumber(a,"rad",1),Math.PI/180*a}function B(a,b){if(void 0===a&&void 0===b)return e();if(a=K.coerceArgToNumber(a,"random",1),void 0===b?(b=a,a=1):b=K.coerceArgToNumber(b,"random",2),a>b)throw new shine.Error("bad argument #2 to 'random' (interval is empty)");return Math.floor(e()*(b-a+1)+a)}function C(a){a=K.coerceArgToNumber(a,"randomseed",1),N=a}function D(a){return a=K.coerceArgToNumber(a,"sin",1),Math.sin(a)}function E(a){return a=K.coerceArgToNumber(a,"sinh",1),(o(a)-o(-a))/2}function F(a){return a=K.coerceArgToNumber(a,"sqrt",1),Math.sqrt(a)}function G(a){return a=K.coerceArgToNumber(a,"tan",1),Math.tan(a)}function H(a){return a=K.coerceArgToNumber(a,"tanh",1),(o(a)-o(-a))/(o(a)+o(-a))}Object.defineProperty(c,"__esModule",{value:!0}),c.abs=f,c.acos=g,c.asin=h,c.atan=i,c.atan2=j,c.ceil=k,c.cos=l,c.cosh=m,c.deg=n,c.exp=o,c.floor=p,c.fmod=q,c.frexp=r,c.ldexp=s,c.log=t,c.log10=u,c.max=v,c.min=w,c.modf=x,c.pow=z,c.rad=A,c.random=B,c.randomseed=C,c.sin=D,c.sinh=E,c.sqrt=F,c.tan=G,c.tanh=H;var I=a("../Table"),J=d(I),K=a("../utils"),L=16807,M=2147483647,N=1,O=1/0;c.huge=O;var P=Math.PI;c.pi=P,c["default"]=new J["default"]({abs:f,acos:g,asin:h,atan:i,atan2:j,ceil:k,cos:l,cosh:m,deg:n,exp:o,floor:p,fmod:q,frexp:r,huge:O,ldexp:s,log:t,log10:u,max:v,min:w,modf:x,pi:P,pow:z,rad:A,random:B,randomseed:C,sin:D,sinh:E,sqrt:F,tan:G,tanh:H})},{"../Table":3,"../utils":12}],7:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){var b=a.getFullYear(),c=new Date(b,0);return a.getTimezoneOffset()!==c.getTimezoneOffset()}function f(a,b,c){var d=parseInt(m["%j"](a),10),e=new Date(a.getFullYear(),0,1,12),f=(8-e["get"+(c?"UTC":"")+"Day"]()+b)%7;return("0"+(Math.floor((d-f)/7)+1)).substr(-2)}function g(a,b){void 0===a&&(a="%c");var c=void 0,d=new Date;if(b&&d.setTime(1e3*b),"!"===a.substr(0,1)&&(a=a.substr(1),c=!0),"*t"===a)return new i["default"]({year:parseInt(m["%Y"](d,c),10),month:parseInt(m["%m"](d,c),10),day:parseInt(m["%d"](d,c),10),hour:parseInt(m["%H"](d,c),10),min:parseInt(m["%M"](d,c),10),sec:parseInt(m["%S"](d,c),10),wday:parseInt(m["%w"](d,c),10)+1,yday:parseInt(m["%j"](d,c),10),isdst:e(d)});for(var f in m)m.hasOwnProperty(f)&&a.indexOf(f)>=0&&(a=a.replace(f,m[f](d,c)));return a}Object.defineProperty(c,"__esModule",{value:!0}),c.date=g;var h=a("../Table"),i=d(h),j=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],k=["January","February","March","April","May","June","July","August","September","October","November","December"],l=[31,28,31,30,31,30,31,31,30,31,30,31],m={"%a":function(a,b){return j[a["get"+(b?"UTC":"")+"Day"]()].substr(0,3)},"%A":function(a,b){return j[a["get"+(b?"UTC":"")+"Day"]()]},"%b":function(a,b){return k[a["get"+(b?"UTC":"")+"Month"]()].substr(0,3)},"%B":function(a,b){return k[a["get"+(b?"UTC":"")+"Month"]()]},"%c":function(a,b){return a["to"+(b?"UTC":"")+"LocaleString"]()},"%d":function(a,b){return("0"+a["get"+(b?"UTC":"")+"Date"]()).substr(-2)},"%H":function(a,b){return("0"+a["get"+(b?"UTC":"")+"Hours"]()).substr(-2)},"%I":function(a,b){return("0"+((a["get"+(b?"UTC":"")+"Hours"]()+11)%12+1)).substr(-2)},"%j":function(a,b){for(var c=a["get"+(b?"UTC":"")+"Date"](),d=a["get"+(b?"UTC":"")+"Month"](),e=0;d>e;e++)c+=l[e];return d>1&&a["get"+(b?"UTC":"")+"FullYear"]()%4===0&&(c+=1),("00"+c).substr(-3)},"%m":function(a,b){return("0"+(a["get"+(b?"UTC":"")+"Month"]()+1)).substr(-2)},"%M":function(a,b){return("0"+a["get"+(b?"UTC":"")+"Minutes"]()).substr(-2)},"%p":function(a,b){return a["get"+(b?"UTC":"")+"Hours"]()<12?"AM":"PM"},"%S":function(a,b){return("0"+a["get"+(b?"UTC":"")+"Seconds"]()).substr(-2)},"%U":function(a,b){return f(a,0,b)},"%w":function(a,b){return""+a["get"+(b?"UTC":"")+"Day"]()},"%W":function(a,b){return f(a,1,b)},"%x":function(a,b){return m["%m"](a,b)+"/"+m["%d"](a,b)+"/"+m["%y"](a,b)},"%X":function(a,b){return m["%H"](a,b)+":"+m["%M"](a,b)+":"+m["%S"](a,b)},"%y":function(a,b){return m["%Y"](a,b).substr(-2)},"%Y":function(a,b){return""+a["get"+(b?"UTC":"")+"FullYear"]()},"%Z":function(a,b){var c=void 0;return b&&"UTC"||(c=a.toString().match(/[A-Z][A-Z][A-Z]/))&&c[0]},"%%":function(){return"%"}};c["default"]=new i["default"]({date:g})},{"../Table":3}],8:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0});var e=a("../Table"),f=d(e);c["default"]=new f["default"]({preload:new f["default"],loaded:new f["default"]}),b.exports=c["default"]},{"../Table":3}],9:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){a=""+a;var b,c,d,e,f=0;for(b in v)v.hasOwnProperty(b)&&(a=a.replace(new RegExp(b,"g"),v[b]));for(c=a.length,b=0;c>b;b++)d=a.substr(b,1),e=!1,"["==d?(f&&(e=!0),f++):"]"==d&&(f--,f&&(e=!0)),e&&(a=a.substr(0,b)+a.substr(b++ +1),c++);return a}function f(a,b,c){return void 0===b&&(b=1),a=u.coerceArgToString(a,"byte",1),b=u.coerceArgToNumber(b,"byte",2),c=void 0===c?b:u.coerceArgToNumber(c,"byte",3),a.substring(b-1,c).split("").map(function(a){return a.charCodeAt(0)})}function g(){for(var a=arguments.length,b=Array(a),c=0;a>c;c++)b[c]=arguments[c];return b.map(function(a,b){return a=u.coerceArgToNumber(a,"char",b),String.fromCharCode(a)}).join("")}function h(a,b){var c=arguments.length<=2||void 0===arguments[2]?1:arguments[2],d=arguments.length<=3||void 0===arguments[3]?!1:arguments[3];if(a=u.coerceArgToString(a,"find",1),b=u.coerceArgToString(b,"find",2),c=u.coerceArgToNumber(c,"find",3),d=u.coerceToBoolean(d),!d){b=e(b);var f=new RegExp(b),g=a.substr(c-1).search(f);if(0>g)return;var h=a.substr(c-1).match(f),i=[g+c,g+c+h[0].length-1];return h.shift(),i.concat(h)}var j=a.indexOf(b,c-1);return-1===j?void 0:[j+1,j+b.length]}function i(a,b){a=u.coerceArgToString(a,"gmatch",1),b=u.coerceArgToString(b,"gmatch",2),b=e(b);var c=new RegExp(b,"g"),d=a.match(c);return function(){var a=d.shift(),c=new RegExp(b).exec(a);if(void 0!==a)return c.shift(),c.length?c:a}}function j(a,b,c){var d=arguments.length<=3||void 0===arguments[3]?1/0:arguments[3];a=u.coerceArgToString(a,"gsub",1),b=u.coerceArgToString(b,"gsub",2),d=u.coerceArgToNumber(d,"gsub",3),b=e(""+b);for(var f="function"==typeof c,g=0,h="",i=void 0,j=void 0,k=void 0,l=void 0;d>g&&a&&(k=a.match(b));)f?(i=c(k[0]),i instanceof Array&&(i=i[0]),void 0===i&&(i=k[0])):i=c instanceof s["default"]?c.get(k[0]):"object"==typeof c?c[k]:(""+c).replace(/%([0-9])/g,function(a,b){return k[b]}),j=0===k[0].length&&void 0===l?"":a.split(k[0],1)[0],l=k[0],h+=""+j+i,a=a.substr((""+j+l).length),g++;return[""+h+a,g]}function k(a){return a=u.coerceArgToString(a,"len",1),a.length}function l(a){return a=u.coerceArgToString(a,"lower",1),a.toLowerCase()}function m(a,b){var c=arguments.length<=2||void 0===arguments[2]?0:arguments[2];a=u.coerceArgToString(a,"match",1),b=u.coerceArgToString(b,"match",2),c=u.coerceArgToNumber(c,"match",3),a=a.substr(c);var d=a.match(new RegExp(e(b)));return d?d[1]?(d.shift(),d):d[0]:void 0}function n(a,b){return a=u.coerceArgToString(a,"rep",1),b=u.coerceArgToNumber(b,"rep",2),Array(b+1).join(a)}function o(a){return a=u.coerceArgToString(a,"reverse",1),Array.prototype.map.call(a,function(a){return a}).reverse().join("")}function p(a,b,c){return void 0===b&&(b=1),a=u.coerceArgToString(a,"sub",1),b=u.coerceArgToNumber(b,"sub",2),void 0===c?a.length:c=u.coerceArgToNumber(c,"sub",3),b>0?b-=1:0>b&&(b=a.length+b),0>c&&(c=a.length+c+1),a.substring(b,c)}function q(a){return a=u.coerceArgToString(a,"upper",1),a.toUpperCase()}Object.defineProperty(c,"__esModule",{value:!0}),c["byte"]=f,c["char"]=g,c.find=h,c.gmatch=i,c.gsub=j,c.len=k,c.lower=l,c.match=m,c.rep=n,c.reverse=o,c.sub=p,c.upper=q;var r=a("../Table"),s=d(r),t=a("../LuaError"),u=(d(t),a("./string"),a("../utils")),v={"([^a-zA-Z0-9%(])-":"$1*?","(.)-([^a-zA-Z0-9?])":"$1*?$2","(.)-$":"$1*?","%a":"[a-zA-Z]","%A":"[^a-zA-Z]","%c":"[\x00-]","%C":"[^\x00-]","%d":"\\d","%D":"[^d]","%l":"[a-z]","%L":"[^a-z]","%p":"[.,\"'?!;:#$%&()*+-/<>=@[]\\^_{}|~]","%P":"[^.,\"'?!;:#$%&()*+-/<>=@[]\\^_{}|~]","%s":"[ \\t\\n\\f\\v\\r]","%S":"[^ 	\n\f\r]","%u":"[A-Z]","%U":"[^A-Z]","%w":"[a-zA-Z0-9]","%W":"[^a-zA-Z0-9]","%x":"[a-fA-F0-9]","%X":"[^a-fA-F0-9]","%([^a-zA-Z])":"\\$1"};c["default"]=new s["default"]({"byte":f,"char":g,find:h,gmatch:i,gsub:j,len:k,lower:l,match:m,rep:n,reverse:o,sub:p,upper:q})},{"../LuaError":1,"../Table":3,"../utils":12,"./string":9}],10:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b,c,d){return void 0===b&&(b=""),void 0===c&&(c=1),a=n.coerceArgToTable(a,"concat",1),b=n.coerceArgToString(b,"concat",2),c=n.coerceArgToNumber(c,"concat",3),d=void 0===d?h(a):n.coerceArgToNumber(d,"concat",4),[].concat(a.numValues).splice(c,d-c+1).join(b)}function f(a){a=n.coerceArgToTable(a,"getn",1);var b=a.numValues,c=[],d=0;for(var e in b)b.hasOwnProperty(e)&&(c[e]=!0);for(;c[d+1];)d++;if(d>0&&void 0===b[d]){for(var e=0;d-e>1;){var f=Math.floor((e+d)/2);void 0===b[f]?d=f:e=f}return e}return d}function g(a,b,c){a=n.coerceArgToTable(a,"insert",1),void 0===c?(c=b,b=a.numValues.length):b=n.coerceArgToNumber(b,"insert",2),a.numValues.splice(b,0,void 0),a.set(b,c)}function h(a){return a=n.coerceArgToTable(a,"maxn",1),a.numValues.length-1}function i(a,b){a=n.coerceArgToTable(a,"remove",1),b=n.coerceArgToNumber(b,"remove",2);var c=f(a),d=a.numValues;if(!(b>c)){void 0===b&&(b=c);for(var e=d.splice(b,1);c>b&&void 0===d[b];)delete d[b++];return e}}function j(a,b){a=n.coerceArgToTable(a,"sort",1);var c=void 0,d=a.numValues;b?(b=n.coerceArgToFunction(b,"sort",2),c=function(a,c){return n.coerceToBoolean(b(a,c)[0])?-1:1}):c=function(a,b){return b>a?-1:1},d.shift(),d.sort(c).unshift(void 0)}Object.defineProperty(c,"__esModule",{value:!0}),c.concat=e,c.getn=f,c.insert=g,c.maxn=h,c.remove=i,c.sort=j;var k=a("../Table"),l=d(k),m=a("../LuaError"),n=(d(m),a("../utils"));c["default"]=new l["default"]({concat:e,getn:f,insert:g,maxn:h,remove:i,sort:j})},{"../LuaError":1,"../Table":3,"../utils":12}],11:[function(a,b,c){(function(d){"use strict";function e(a){return a&&a.__esModule?a:{"default":a}}function f(a,b,c,d){var e=void 0,f=void 0;return a&&a instanceof m["default"]&&(e=a.metatable)&&(f=e.rawget(c))||b&&b instanceof m["default"]&&(e=b.metatable)&&(f=e.rawget(c))?f(a,b)[0]:("number"!=typeof a&&(a=n.coerceToNumber(a,"attempt to perform arithmetic on a %type value")),"number"!=typeof b&&(b=n.coerceToNumber(b,"attempt to perform arithmetic on a %type value")),d(a,b))}function g(a,b){var c=void 0,d=void 0;return a&&a instanceof m["default"]&&(c=a.metatable)&&(d=c.rawget("__concat"))||b&&b instanceof m["default"]&&(c=b.metatable)&&(d=c.rawget("__concat"))?d(a,b)[0]:(b=n.coerceToString(b,"attempt to concatenate a %type value"),a=n.coerceToString(a,"attempt to concatenate a %type value"),""+a+b)}function h(a,b){var c,d,e;return b!==a&&a&&a instanceof m["default"]&&b&&b instanceof m["default"]&&(c=a.metatable)&&(d=b.metatable)&&c===d&&(e=c.rawget("__eq"))?!!e(a,b)[0]:a===b}function i(a,b){if(0===b||b===-(1/0)||b===1/0||d.isNaN(a)||d.isNaN(b))return NaN;var c=Math.abs(b),e=Math.abs(a)%c;return 0>a*b&&(e=c-e),0>b&&(e*=-1),e}function j(a){if(void 0===a)throw new q["default"]("attempt to get length of a nil value");if(a instanceof m["default"])return o.getn(a);if("object"==typeof a){var b=0;for(var c in a)a.hasOwnProperty(c)&&b++;return b}return a.length}function k(a){var b,c;return a&&a instanceof m["default"]&&(b=a.metatable)&&(c=b.rawget("__unm"))?c(a)[0]:("number"!=typeof a&&(a=n.coerceToNumber(a,"attempt to perform arithmetic on a %type value")),-a)}Object.defineProperty(c,"__esModule",{value:!0});var l=a("./Table"),m=e(l),n=a("./utils"),o=a("./lib/table"),p=a("./LuaError"),q=e(p),r={concat:g,len:j,eq:h,unm:k,bool:n.coerceToBoolean,neq:function(){return!h.apply(void 0,arguments)},not:function(){return!n.coerceToBoolean.apply(void 0,arguments)},add:function(a,b){return f(a,b,"__add",function(a,b){return a+b})},sub:function(a,b){return f(a,b,"__sub",function(a,b){return a-b})},mul:function(a,b){return f(a,b,"__mul",function(a,b){return a*b})},div:function(a,b){if(void 0===b)throw new q["default"]("attempt to perform arithmetic on a nil value");return f(a,b,"__div",function(a,b){return a/b})},mod:function(a,b){return f(a,b,"__mod",i)},pow:function(a,b){return f(a,b,"__pow",Math.pow)},lt:function(a,b){return f(a,b,"__lt",function(a,b){return b>a})},lte:function(a,b){return f(a,b,"__le",function(a,b){return b>=a})},gt:function(a,b){return!r.lte(a,b)},gte:function(a,b){return!r.lt(a,b)}};c["default"]=r,b.exports=c["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./LuaError":1,"./Table":3,"./lib/table":10,"./utils":12}],12:[function(a,b,c){(function(b){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(){console.log.apply(console,arguments)}function f(a,b){if(b)throw b=(""+b).replace(/\%type/gi,o.type(a)),new q["default"](b)}function g(a){return!(a===!1||void 0===a)}function h(a,b){var c=void 0,d=void 0,e=void 0;switch(!0){case"number"==typeof a:return a;case void 0===a:return;case"inf"===a:return 1/0;case"-inf"===a:return-(1/0);case"nan"===a:return NaN;default:return(""+a).match(t)?c=parseFloat(a):(d=(""+a).match(u))&&(e=d[3],((c=d[2])||e)&&(c=parseInt(c,16)||0,e&&(c+=parseInt(e,16)/Math.pow(16,e.length)),d[1]&&(c*=-1))),void 0===c&&f(a,b),c}}function i(a,c){switch(!0){case"string"==typeof a:return a;case void 0===a:case null===a:return"nil";case a===1/0:return"inf";case a===-(1/0):return"-inf";case"number"==typeof a:case"boolean"==typeof a:return b.isNaN(a)?"nan":""+a;default:return f(a,c)||""}}function j(a,b,c,d,e){return b(a,"bad argument #"+e+" to '"+d+"' ("+c+" expected, got %type)")}function k(a,b,c){return j(a,h,"number",b,c)}function l(a,b,c){return j(a,i,"string",b,c)}function m(a,b,c){if(a instanceof s["default"])return a;var d=o.type(a);throw new q["default"]("bad argument #"+c+" to '"+b+"' (table expected, got "+d+")")}function n(a,b,c){if(a instanceof Function)return a;var d=o.type(a);throw new q["default"]("bad argument #"+c+" to '"+b+"' (function expected, got "+d+")")}Object.defineProperty(c,"__esModule",{value:!0}),c.coerceToBoolean=g,c.coerceToNumber=h,c.coerceToString=i,c.coerceArgToNumber=k,c.coerceArgToString=l,c.coerceArgToTable=m,c.coerceArgToFunction=n;var o=a("./lib/globals"),p=a("./LuaError"),q=d(p),r=a("./Table"),s=d(r),t=/^[-+]?[0-9]*\.?([0-9]+([eE][-+]?[0-9]+)?)?$/,u=/^(\-)?0x([0-9a-fA-F]*)\.?([0-9a-fA-F]*)$/,v={writeln:function(){var a=void 0,c=void 0,d=void 0;return(a=b.starlight)&&(c=a.config)&&(d=c.stdout)&&d.writeln||e}()};c.stdout=v}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./LuaError":1,"./Table":3,"./lib/globals":5}]},{},[4]);